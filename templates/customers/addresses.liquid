{% if customer %}
{% paginate customer.addresses by 5 %}
<div class="my-account wrapper">
		<div class="page-title title-buttons">
			<h1>
				{{ 'customer.addresses.title' | t }}
				<p class="return"><a class="button-text" href="/account"><i class="fal fa-long-arrow-left"></i>{{ 'customer.account.return' | t }}</a></p>
				<p class="next"><a href="#" class="button address-new-toggle">{{ 'customer.addresses.add_new' | t }}</a></p>
			</h1>
		</div>
		<div class="addresses"> 
	      <div id="AddressNewBox" class="hide">
	        	<div id="AddressNewForm"> 
						<div class="form">
	        	{% form 'customer_address', customer.new_address %}
								<h4>Add a new address</h4>
								<div class="fields">
										<div class="field">
												<input type="text" placeholder="{{ 'customer.addresses.first_name' | t }}" id="AddressFirstNameNew" name="address[first_name]" value="{{ form.first_name }}">
										</div>
										<div class="field">
												<input type="text" placeholder="{{ 'customer.addresses.last_name' | t }}" id="AddressLastNameNew" name="address[last_name]" value="{{ form.last_name }}">		
										</div>
								</div>
								<div class="fields">
										<div class="field">
												<div class="select-box">
	              						<label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
	              						<select id="AddressCountryNew" name="address[country]" data-default="{{ form.country }}">{{ country_option_tags }}</select>
	              				</div>
										</div>
										<div class="field">
												<input type="text" placeholder="{{ 'customer.addresses.zip' | t }}" id="AddressZipNew" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters">
										</div>
								</div>
								<div class="fields third">
										<div class="field">
												<input type="text" placeholder="{{ 'customer.addresses.address1' | t }}" id="AddressAddress1New" name="address[address1]" value="{{ form.address1 }}">
										</div>
										<div class="field">
												<input type="text" placeholder="{{ 'customer.addresses.address2' | t }}" id="AddressAddress2New" name="address[address2]" value="{{ form.address2 }}">
										</div>
								</div>
								<input type="text" placeholder="{{ 'customer.addresses.city' | t }}" id="AddressCityNew" name="address[city]" value="{{ form.city }}">
	              
								<div id="AddressProvinceContainerNew" style="display:none">
	            			<label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
	            			<select id="AddressProvinceNew" name="address[province]" data-default="{{ form.province }}"></select>
	          		</div>
								<input type="tel" placeholder="{{ 'customer.addresses.phone' | t }}" id="AddressPhoneNew" name="address[phone]" value="{{ form.phone }}">
	              
	              {% comment %} <input type="text" placeholder="{{ 'customer.addresses.company' | t }}" id="AddressCompanyNew" name="address[company]" value="{{ form.company }}"> {% endcomment %}
	          		{{ form.set_as_default_checkbox }}
	          		<label for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
	
								<div class="buttons-set">
									<button type="submit" class="button btn-add-address">{{ 'customer.addresses.add' | t }}</button>
									<a href="#" class="button-text address-new-toggle-cancel">{{ 'customer.addresses.cancel' | t }}</a>
								</div>
	        	{% endform %}
						</div>
	      		</div>
	    	</div>
				 {% for address in customer.addresses %}
				
				{% endfor %}
	
	      {% comment %}
	        List all customer addresses with a unique edit form.
	        Also add pagination in case they have a large number of addresses
	      {% endcomment %}
	      {% for address in customer.addresses %}
		 <div class="address-list{% if forloop.first == true %} first{% endif %}">
		 <div id="EditAddress_{{ address.id }}" class="form-edit-address hide">
				<div class="form">
				
	      {% form 'customer_address', address %}
						<h4>Edit address</h4>
						<div class="fields">
								<div class="field">
										<input type="text" placeholder="{{ 'customer.addresses.first_name' | t }}" id="AddressFirstName_{{ form.id }}" name="address[first_name]" value="{{ form.first_name }}">
								</div>
								<div class="field">
										<input type="text" placeholder="{{ 'customer.addresses.last_name' | t }}" id="AddressLastName_{{ form.id }}" name="address[last_name]" value="{{ form.last_name }}">
								</div>
						</div>
						<div class="fields">
								<div class="field">
										<div class="select-box">
												<label for="AddressCountry_{{ form.id }}">{{ 'customer.addresses.country' | t }}</label>
												<select id="AddressCountry_{{ form.id }}" class="address-country-option" data-form-id="{{ form.id }}" name="address[country]" data-default="{{ form.country }}">{{ country_option_tags }}</select>
										</div>
								</div>
								<div class="field">
										<input type="text" placeholder="{{ 'customer.addresses.zip' | t }}" id="AddressZip_{{ form.id }}" name="address[zip]" value="{{ form.zip }}" autocapitalize="characters">
								</div>
						</div>
						<div class="fields third">
								<div class="field">
										<input type="text" placeholder="{{ 'customer.addresses.address1' | t }}" id="AddressAddress1_{{ form.id }}" name="address[address1]" value="{{ form.address1 }}">
								</div>
								<div class="field">
										<input type="text" placeholder="{{ 'customer.addresses.address2' | t }}" id="AddressAddress2_{{ form.id }}" name="address[address2]" value="{{ form.address2 }}">
								</div>
						</div>

						<input type="text" placeholder="{{ 'customer.addresses.city' | t }}" id="AddressCity_{{ form.id }}" name="address[city]" value="{{ form.city }}">
	          <div id="AddressProvinceContainer_{{ form.id }}" style="display:none" class="select-box">
								<label for="AddressProvince_{{ form.id }}">{{ 'customer.addresses.province' | t }}</label>
								<select id="AddressProvince_{{ form.id }}" name="address[province]" data-default="{{ form.province }}"></select>
	          </div>
	          <input type="tel" placeholder="{{ 'customer.addresses.phone' | t }}" id="AddressPhone_{{ form.id }}" name="address[phone]" value="{{ form.phone }}">    
	          {{ form.set_as_default_checkbox }}
	          <label for="address_default_address_{{ form.id }}">{{ 'customer.addresses.set_default' | t }}</label>  
	          <div class="buttons-set">
								<button type="submit" class="button btn-add-address">{{ 'customer.addresses.update' | t }}</button>
								<a href="#" class="button-text address-edit-toggle" data-form-id="{{ form.id }}">{{ 'customer.addresses.cancel' | t }}</a>
	          </div>    
	          {% comment %} <input type="text" placeholder="{{ 'customer.addresses.company' | t }}" id="AddressCompany_{{ form.id }}" name="address[company]" value="{{ form.company }}"> {% endcomment %}
	          {% endform %}
						</div>
	      </div>

	      <div id="wrapEdit_{{ address.id }}" class="address-box">
						<a href="#wrapEdit_{{ address.id }}" class="button-inline address-delete" data-form-id="{{ address.id }}" data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}">{{ 'customer.addresses.delete' | t }}</a>
		      	<a href="#wrapEdit_{{ address.id }}" class="button-inline address-edit-toggle" data-form-id="{{ address.id }}">{{ 'customer.addresses.edit' | t }}</a>
						{% if address == customer.default_address %}    
						<h5>{{ 'customer.addresses.default' | t }}</h5>
	          {% endif %}
	          <h4>{{ address.street }}, {{address.country}}
	          </h4>	
	          {{ address | format_address }}    
	      </div>
		 </div>

	      
	      {% endfor %}
	      {% if paginate.pages > 1 %}
	        	{% include 'pagination' %}
	      {% endif %}
	  </div>
</div>
{% endpaginate %}
{% else %}
     <script type="text/javascript">
        	window.location.href= "/account/"
     </script>
{% endif %}
